{% extends "base.html" %}

{% block head_others %} 
  <link rel="stylesheet" href="../static/css/editPost.css">
  <script src="../static/js/editPost.js" defer></script>
{% endblock %}

{% block content %}
  {% import 'responsiveSideBar.html' as sideBar %}

  <!-- header and sideBar -->

  {% call sideBar.sideBar() %}
  
  <form id="delete-post-form" action="/deletePost" method="post">
      <input id="photo-id" type="text" class="hidden" name="photo_id" value="{{photo.id}}">
  </form>
  
  <form id="post-form" method="post" action="/editPost" enctype="multipart/form-data" class="pure-form pure-form-aligned">
    <fieldset>
      {% macro addImages() -%}

      <input id="photo-id" type="text" class="hidden" name="photo_id" value="{{photo.id}}">
      <div id="add-images">

        <div class="upload-box">
          <label for="file-upload" class="upload-label">
            <img class="edit-image" src="{{photo.image_url}}">
          </label>
          <input name="image" type="text" id="file-upload" class="upload-input" value="{{photo.image_url}}">
          <div id="image-preview" class="upload-preview"></div>
        </div>

      </div>
      {% endmacro -%}

      <!-- uploading photos -->
      <div id="upload-images">
        {{ addImages() }}
        <!-- {{ addImages() }} -->
      </div>

      <!-- add title -->
      <div id="add-title">
        <input id="title" name="title" type="text" value="{{photo.title}}">
      </div>

      <!-- add body text  -->
      <div id="add-body">
        <textarea rows="15" id="body" name="body" rows="10">{{photo.description}}</textarea>
      </div>


      <div id="add-location-save" class="pure-g">
        <div class="pure-u-lg-1-2 pure-u-md-1-1 pure-u-sm-1-1">
          <label for="locate" class="upload-location">
            <i class="fas fa-map-marker-alt"></i>
          </label>
          <input type="text" name="location" id="locate" class="choose-location" value="{{photo.location}}">
        </div>
        
        <div class="pure-u-lg-1-2 pure-u-md-1-1 pure-u-sm-1-1">
          <div class="pure-g">
            <div class="pure-u-lg-1-2 pure-u-md-1-2 pure-u-sm-1-1">
              <button type="button" id="delete-button">
                <i class="fas fa-trash"></i>
                <br>
                <p>Delete</p> 
              </button>
            </div>
    
            <div class="post-button-container pure-u-lg-1-2 pure-u-md-1-2 pure-u-sm-1-1"> 
              <button type="submit" class="add-post-button">Edit</button>
            </div>
          </div>
          
        </div>
        
        
      </div>

    </fieldset>
  </form>

  </div>
  {% endcall %}
{% endblock %}
